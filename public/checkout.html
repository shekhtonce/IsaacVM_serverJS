<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MyShop - Checkout</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="page-container">
    <!-- HEADER SECTION -->
    <header class="site-header">
      <div class="brand-logo">
        <h1>MyShop</h1>
      </div>
      
      <!-- MAIN NAV -->
      <nav class="main-nav">
        <ul>
          <li><a href="index.html">Home</a></li>
          <!-- Categories will be loaded here -->
        </ul>
      </nav>

      <!-- USER INFO AND LOGIN -->
      <div class="user-controls">
        <div id="user-greeting">Hi guest</div>
        <button id="login-button" class="login-btn">Login</button>
      </div>

      <!-- CART SUMMARY (SIMPLIFIED) -->
      <div class="cart-wrapper">
        <div class="cart-summary" id="cart-summary">
          Shopping List: $0
        </div>
      </div>
    </header>

    <!-- MAIN CONTENT AREA -->
    <main class="content-wrap">
      <!-- BREADCRUMB -->
      <nav class="breadcrumb">
        <a href="index.html">Home</a> &gt; <span>Checkout</span>
      </nav>

      <!-- CHECKOUT CONTAINER -->
      <div class="checkout-container">
        <h2>Review Your Order</h2>
        
        <!-- Checkout Cart Review -->
        <div class="checkout-review">
          <h3>Items in Your Cart</h3>
          <div id="checkout-items">
            <!-- Items will be loaded here -->
            <p>Loading cart items...</p>
          </div>
          <div class="checkout-summary">
            <p>Total: $<span id="checkout-total">0.00</span></p>
          </div>
        </div>
        
        <div class="checkout-action">
          <!-- PayPal Form -->
          <form id="paypal-form" action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post">
            <!-- PayPal Standard Fields -->
            <input type="hidden" name="cmd" value="_cart">
            <input type="hidden" name="upload" value="1">
            <input type="hidden" name="business" value="sb-kaykx40632020@business.example.com">
            <input type="hidden" name="charset" value="utf-8">
            <input type="hidden" name="currency_code" value="USD">
            
            <!-- Order reference fields -->
            <input type="hidden" name="invoice" id="order-id" value="">
            <input type="hidden" name="custom" id="order-digest" value="">
            
            <!-- PayPal item fields will be dynamically populated via JavaScript -->
            <div id="paypal-items"></div>
            
            <!-- Return URLs -->
            <input type="hidden" name="return" value="https://s05.ierg4210.ie.cuhk.edu.hk/checkout-success.html">
            <input type="hidden" name="cancel_return" value="https://s05.ierg4210.ie.cuhk.edu.hk/checkout-cancel.html">
            <input type="hidden" name="notify_url" value="https://s05.ierg4210.ie.cuhk.edu.hk/api/paypal/webhook">
            
            <!-- CSRF token -->
            <input type="hidden" name="csrf_token" id="csrf-token" value="">
            
            <!-- Checkout Button -->
            <button type="button" id="checkout-button" class="checkout-btn">Proceed to Checkout</button>
          </form>
        </div>
      </div>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <p>Â© 2025 MyShop Inc.</p>
    </footer>
  </div>

  <!-- Link to JavaScript files -->
  <script src="sanitize.js" defer></script>
  <script src="csrf-utils.js" defer></script>
  <script src="cart.js" defer></script>
  <script src="scripts.js" defer></script>
  <script src="checkout.js" defer></script>
  <script src="auth.js" defer></script>
</body>
</html>